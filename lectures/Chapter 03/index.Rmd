---
title       : Chapter 3, The Metamorphoses of Capital 
subtitle    : Thomas Piketty, Capital in the 21st Century (Harvard University Press 2014)
author      : Patrick Toche
framework   : io2012  # {minimal, io2012, html5slides, shower, dzslides, ...}
mode        : selfcontained  # {selfcontained, standalone, draft}
widgets     : mathjax   # {mathjax, quiz, bootstrap}
ext_widgets : {rCharts: [libraries/nvd3]}  # libraries/morris, libraries/highcharts, libraries/rickshaw, libraries/dimple
github      : {user: patricktoche, repo: piketty}
url         : {lib: "../../libraries", assets: "../../assets"}
lecnum      : "03"
--- 

```{r 'preamble', message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, comment = NA, cache = FALSE}
require(knitr)
library(png)   # to display external png and control dimensions
library(grid)  # to display external png and control dimensions
opts_chunk$set(echo = FALSE, cache = FALSE)
source('../../shared/shared.R')
```

### UNDER CONSTRUCTION

- These slides are under construction.
- Some of the figures are completed.
- Some of the figures require further work to fix bugs.
- Please check back later.

---

### Introduction  

- Chapter 2 reviewed the main stages of income and output growth since the Industrial Revolution.

- Chapter 3 reviews the metamorphoses of capital in Britain and France since the eighteenth century.  

--- 

### Capital in Britain

<figure class = "captioned">
<img src = "../../figures/Figure_3_1.png" alt = "Figure 3.1. Capital in Britain, 1700-2010.">  
<figcaption class = 'figcaption'>Figure 3.1. National capital is worth about seven years of national income in Britain in 1700 (including four in agricultural land).</figcaption>  
</figure> 
<footer class = 'footnote'>Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### Capital in Britain

```{r 'Figure_3_1_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_3_1.Rda") 
# To do: dynamic range selection
# round data for rChart tooltip display
df_3_1$value <- round(df_3_1$value, 3)
n <- nPlot(data = df_3_1, value ~ Year, group = 'variable', color = 'variable', shape = 'variable', type = 'stackedAreaChart') 
n$chart(xDomain = c(1700, 2012), clipEdge = TRUE)
n$chart(yDomain = c(0, 8))  # use yDomain instead of forceY
n$yAxis(axisLabel = 'Value of national capital (% national income)')
n$chart(margin = list(left = 80)) 
n$yAxis(tickFormat = "#! function(d) {return Math.round(d*100*100)/100 + '%'} !#")
n$xAxis(axisLabel = 'Year')
n$chart(style = 'stack')
n$chart(showControls = FALSE)
n$chart(useInteractiveGuideline = TRUE)
n$chart(color = c('#EFF3FF', '#BDD7E7', '#6BAED6', '#2171B5'))  # To do: automate color selection
n$addParams(height = 450, width = 900)
n$save('figures/Figure_3_1.html', standalone = TRUE)
``` 
<iframe src = 'figures/Figure_3_1.html' alt = "Figure 3.1. Capital in Britain, 1700-2010.">
</iframe><icaption class = 'icaption'>Figure 3.1. National capital is worth about seven years of national income in Britain in 1700 (including four in agricultural land).</icaption> 
<footer class = 'footnote'>  
Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

---

### Capital in France

<figure class = "captioned">
<img src = "../../figures/Figure_3_2.png" alt = "Figure 3.2. Capital in France, 1700-2010.">  
<figcaption class = 'figcaption'>Figure 3.2. National capital is worth almost seven years of national income in France in 1910 (including one invested abroad).</figcaption>  
</figure> 
<footer class = 'footnote'>Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### Capital in France

```{r 'Figure_3_2_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_3_2.Rda") 
# To do: dynamic range selection
# round data for rChart tooltip display
df_3_2$value <- round(df_3_2$value, 3)
n <- nPlot(data = df_3_2, value ~ Year, group = 'variable', color = 'variable', shape = 'variable', type = 'stackedAreaChart') 
n$chart(xDomain = c(1700, 2012), clipEdge = TRUE)
n$chart(yDomain = c(0, 8))  # use yDomain instead of forceY
n$yAxis(axisLabel = 'Value of national capital (% national income)')
n$chart(margin = list(left = 80)) 
n$yAxis(tickFormat = "#! function(d) {return Math.round(d*100*100)/100 + '%'} !#")
n$xAxis(axisLabel = 'Year')
n$chart(style = 'stack')
n$chart(showControls = FALSE)
n$chart(useInteractiveGuideline = TRUE)
n$chart(color = c('#EFF3FF', '#BDD7E7', '#6BAED6', '#2171B5'))  # To do: automate color selection
n$addParams(height = 450, width = 900)
n$save('figures/Figure_3_2.html', standalone = TRUE)
```
<iframe src = 'figures/Figure_3_2.html' alt = "Figure 3.2. Capital in France, 1700-2010.">
</iframe><icaption class = 'icaption'>Figure 3.2. National capital is worth almost seven years of national income in France in 1910 (including one invested abroad).</icaption>
<footer class = 'footnote'>  
Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

---

### Public wealth in Britain

<figure class = "captioned">
<img src = "../../figures/Figure_3_3.png" alt = "Figure 3.3. Public wealth in Britain, 1700-2010.">  
<figcaption class = 'figcaption'>Figure 3.3. Public debt surpassed two years of national income in 1950 (versus one year for public assets).</figcaption>  
</figure> 
<footer class = 'footnote'>Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### Public wealth in Britain

```{r 'Figure_3_3_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_3_3.Rda") 
# round data for rChart tooltip display
df_3_3$value <- round(df_3_3$value, 3)
n <- nPlot(data = df_3_3, value ~ Year, group = 'variable', color = 'variable', shape = 'variable', type = 'lineChart') 
n$chart(forceY = c(0, 2.4))
n$yAxis(axisLabel = 'Public assets and debt (% national income)')
n$chart(margin = list(left = 80)) 
n$yAxis(tickFormat = "#! function(d) {return Math.round(d*100*100)/100 + '%'} !#")
n$xAxis(axisLabel = 'Year')
n$chart(useInteractiveGuideline = TRUE)
n$chart(color = colorPalette)
n$addParams(height = 450, width = 900)
n$setTemplate(afterScript = '<style>
  .nv-point {
    stroke-opacity: 1!important;
    stroke-width: 5px!important;
    fill-opacity: 1!important;
  } 
</style>')
n$save('figures/Figure_3_3.html', standalone = TRUE)
```
<iframe src = 'figures/Figure_3_3.html' alt = "Figure 3.3. Public wealth in Britain, 1700-2010.">
</iframe><icaption class = 'icaption'>Figure 3.3. Public debt surpassed two years of national income in 1950 (versus one year for public assets).</icaption>
<footer class = 'footnote'>Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

---

### Public wealth in France

<figure class = "captioned">
<img src = "../../figures/Figure_3_4.png" alt = "Figure 3.4. Public wealth in France, 1700-2010.">  
<figcaption class = 'figcaption'>Figure 3.4. Public debt is about one year of national income in France in 1780 as well as in 1880 and in 2000-2010.</figcaption>  
</figure> 
<footer class = 'footnote'>Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### Public wealth in France

```{r 'Figure_3_4_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_3_4.Rda") 
# round data for rChart tooltip display
df_3_4$value <- round(df_3_4$value, 3)
n <- nPlot(data = df_3_4, value ~ Year, group = 'variable', color = 'variable', shape = 'variable', type = 'lineChart') 
n$chart(forceY = c(0, 2.4))
n$yAxis(axisLabel = 'Public assets and debt (% national income)')
n$chart(margin = list(left = 80))
n$yAxis(tickFormat = "#! function(y) {return Math.round(y*100*100)/100 + '%'} !#")
n$xAxis(axisLabel = 'Year')
n$chart(useInteractiveGuideline = TRUE)
n$chart(color = colorPalette)
n$addParams(height = 450, width = 900)
n$setTemplate(afterScript = '<style>
  .nv-point {
    stroke-opacity: 1!important;
    stroke-width: 5px!important;
    fill-opacity: 1!important;
  } 
</style>')
n$save('figures/Figure_3_4.html', standalone = TRUE)
```
<iframe src = 'figures/Figure_3_4.html' alt = "Figure 3.4. Public wealth in France, 1700-2010.">
</iframe><icaption class = 'icaption'>Figure 3.4. Public debt is about one year of national income in France in 1780 as well as in 1880 and in 2000-2010.</icaption>
<footer class = 'footnote'>Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

---

### Private and public capital in Britain

<figure class = "captioned">
<img src = "../../figures/Figure_3_5.png" alt = "Figure 3.5. Private and public capital in Britain, 1700-2010.">  
<figcaption class = 'figcaption'>Figure 3.5. In 1810, private capital is worth eight years of national income in Britain (versus seven years for national capital).</figcaption>  
</figure> 
<footer class = 'footnote'>Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### Private and public capital in Britain

```{r 'Figure_3_5_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_3_5.Rda") 
# round data for rChart tooltip display
df_3_5$value <- round(df_3_5$value, 3)
n <- nPlot(data = df_3_5, value ~ Year, group = 'variable', color = 'variable', shape = 'variable', type = 'lineChart') 
n$chart(forceY = c(-2, 9))
n$yAxis(axisLabel = 'National, private and public capital (% national income)')
n$chart(margin = list(left = 80)) 
n$yAxis(tickFormat = "#! function(d) {return Math.round(d*100*100)/100 + '%'} !#")
n$xAxis(axisLabel = 'Year')
n$chart(useInteractiveGuideline = TRUE)
n$chart(color = colorPalette)
n$addParams(height = 450, width = 900)
n$setTemplate(afterScript = '<style>
  .nv-point {
    stroke-opacity: 1!important;
    stroke-width: 5px!important;
    fill-opacity: 1!important;
  } 
</style>')
n$save('figures/Figure_3_5.html', standalone = TRUE)
```
<iframe src = 'figures/Figure_3_5.html' alt = "Figure 3.5. Private and public capital in Britain, 1700-2010.">
</iframe><icaption class = 'icaption'>Figure 3.5. In 1810, private capital is worth eight years of national income in Britain (versus seven years for national capital).</icaption>
<footer class = 'footnote'>Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

---

### Private and public capital in France

<figure class = "captioned">
<img src = "../../figures/Figure_3_6.png" alt = "Figure 3.6. Private and public capital in France, 1700-2010.">  
<figcaption class = 'figcaption'>Figure 3.6. In 1950, public capital is worth almost one year of national income versus two years for private capital.</figcaption>  
</figure> 
<footer class = 'footnote'>Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### Private and public capital in France

```{r 'Figure_3_6_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_3_6.Rda") 
# round data for rChart tooltip display
df_3_6$value <- round(df_3_6$value, 3)
n <- nPlot(data = df_3_6, value ~ Year, group = 'variable', color = 'variable', shape = 'variable', type = 'lineChart') 
n$chart(forceY = c(-2, 9))
n$yAxis(axisLabel = 'National, private and public capital (% national income)')
n$chart(margin = list(left = 80)) 
n$yAxis(tickFormat = "#! function(d) {return Math.round(d*100*100)/100 + '%'} !#")
n$xAxis(axisLabel = 'Year')
n$chart(useInteractiveGuideline = TRUE)
n$chart(color = colorPalette)
n$addParams(height = 450, width = 900)
n$setTemplate(afterScript = '<style>
  .nv-point {
    stroke-opacity: 1!important;
    stroke-width: 5px!important;
    fill-opacity: 1!important;
  } 
</style>')
n$save('figures/Figure_3_6.html', standalone = TRUE)
```
<iframe src = 'figures/Figure_3_6.html' alt = "Figure 3.6. Private and public capital in France, 1700-2010.">
</iframe><icaption class = 'icaption'>Figure 3.6. In 1950, public capital is worth almost one year of national income versus two years for private capital.</icaption>
<footer class = 'footnote'>Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

