---
title       : Chapter 2, Growth; Illusions and Realities
subtitle    : Thomas Piketty, Capital in the 21st Century (Harvard University Press 2014)
author      : Patrick Toche
framework   : io2012  # {minimal, io2012, html5slides, shower, dzslides, ...}
mode        : selfcontained  # {selfcontained, standalone, draft}
widgets     : mathjax   # {mathjax, quiz, bootstrap}
ext_widgets : {rCharts: [libraries/nvd3]}  # libraries/morris, libraries/highcharts, libraries/rickshaw, libraries/dimple
github      : {user: patricktoche, repo: piketty}
url         : {lib: "../../libraries", assets: "../../assets"}
lecnum      : "02"
--- {class: cover-slide}

```{r 'preamble', message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, comment = NA, cache = FALSE}
require(knitr)
library(png)   # to display external png and control dimensions
library(grid)  # to display external png and control dimensions
opts_chunk$set(echo = FALSE, cache = FALSE)
source('../../shared/shared.R')
```

### Introduction  

- Chapter 1 introduced the basic forces behind the evolution of income and wealth over the long term.

- Chapter 2 reviews the main stages of income and output growth since the Industrial Revolution.  

---

### The growth of world population

<figure>  
<img src = "../../figures/Figure_2_1.png" alt = "Figure 2.1. The growth of world population, 1700-2012.">  
<figcaption class = 'figcaption'>Figure 2.1. World population rose from 600 million inhabitants in 1700 to 7 billion in 2012.
</figcaption>  
</figure> 
<footer class = 'footnote'>
Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### The growth of world population

```{r 'Figure_2_1_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_2_1.Rda")
# To do: dynamic range selection
# round data for rChart tooltip display
df_2_1$value <- round(df_2_1$value, 3)
n <- nPlot(data = df_2_1, value ~ Year, group = 'variable', color = 'variable', shape = 'variable', type = 'stackedAreaChart') 
n$chart(xDomain = c(1700, 2012), clipEdge = TRUE)
n$chart(yDomain = c(0, 7000))  # use yDomain instead of forceY
n$yAxis(axisLabel = 'World population (millions inhabitants)')
n$chart(margin = list(left = 80)) 
n$yAxis(tickFormat = "#! function(y) {return y + 'M'} !#")
n$xAxis(axisLabel = 'Year')
n$chart(style = 'stack')
n$chart(showControls = FALSE)
n$chart(useInteractiveGuideline = TRUE)
n$chart(color = c('#EFF3FF', '#BDD7E7', '#6BAED6', '#2171B5'))  # To do: automate color selection
n$addParams(height = 500, width = 800)
n$save('figures/Figure_2_1.html', standalone = TRUE)
``` 
<iframe src = 'figures/Figure_2_1.html' alt = "Figure 2.1. The growth of world population, 1700-2012.">
</iframe><icaption class = 'icaption'>Figure 2.1. World population rose from 600 million inhabitants in 1700 to 7 billion in 2012.</icaption> 
<footer class = 'footnote'>  
Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

---

### The growth rate of world population

<figure>  
<img src = "../../figures/Figure_2_2.png" alt = "Figure 2.2. The growth rate of world population from Antiquity to 2100.">  
<figcaption class = 'figcaption'>Figure 2.2. The growth rate of world population was above 1 percent per year from 1950 to 2012 and should return toward 0 percent by the end of the twenty-first century.</figcaption>  
</figure> 
<footer class = 'footnote'>
Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### The growth rate of world population

```{r 'Figure_2_2_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_2_2.Rda") 
# round data for rChart tooltip display
df_2_2$value <- round(df_2_2$value, 3)
n <- nPlot(data = df_2_2, value ~ Seq, group = 'variable', color = 'variable', shape = 'variable', type = 'lineChart') 
n$chart(margin = list(left = 80, right = 40))
n$xAxis(axisLabel = NULL)
n$xAxis(showMaxMin = FALSE)  # MaxMin interefere with spacing
n$xAxis(tickValues = "#! function (x) {    
    tickvalues = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13];
    return tickvalues;
} !#")
n$xAxis(tickFormat = "#! function (x) {
    tickformat = ['0-1000', '1000-1500', '1500-1700', '1700-1820', '1820-1913', '1913-1950', '1950-1970', '1970-1990', '1990-2012', '2012-2030', '2030-2050', '2050-2070', '2070-2100'];
    return tickformat[x-1];
} !#")
n$xAxis(rotateLabels = -20)
n$chart(forceY = c(0, .02))
n$yAxis(showMaxMin = FALSE)
n$yAxis(axisLabel = 'World population growth rate')
n$yAxis(tickFormat = "#! function(d) {return Math.round(d*100*100)/100 + '%'} !#")
n$chart(color = colorPalette)
n$chart(useInteractiveGuideline = TRUE)
n$addParams(height = 500, width = 800)
n$setTemplate(afterScript = '<style>
  .nv-point {
    stroke-opacity: 1!important;
    stroke-width: 5px!important;
    fill-opacity: 1!important;
  } 
</style>')
n$save('figures/Figure_2_2.html', standalone = TRUE)
```
<iframe src = 'figures/Figure_2_2.html' alt = "Figure 2.2. The growth rate of world population from Antiquity to 2100.">
</iframe><icaption class = 'icaption'>Figure 2.2. The growth rate of world population was above 1 percent per year from 1950 to 2012 and should return toward 0 percent by the end of the twenty-first century.</icaption>
<footer class = 'footnote'>  
Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

---

### The growth rate of per capita output

<figure>  
<img src = "../../figures/Figure_2_3.png" alt = "Figure 2.3. The growth rate of per capita output since the Industrial Revolution.">  
<figcaption class = 'figcaption'>Figure 2.3. The growth rate of per capita output surpassed 4 percent per year in Europe between 1950 and 1970, before returning to American levels.</figcaption>  
</figure> 
<footer class = 'footnote'>
Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### The growth rate of per capita output

```{r 'Figure_2_3_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_2_3.Rda") 
# round data for rChart tooltip display
df_2_3$value <- round(df_2_3$value, 3)
n <- nPlot(data = df_2_3, value ~ Seq, group = 'variable', color = 'variable', shape = 'variable', type = 'lineChart') 
n$chart(margin = list(left = 80, right = 40))
n$xAxis(axisLabel = NULL)
n$xAxis(showMaxMin = FALSE)  # MaxMin interefere with spacing
n$xAxis(tickValues = "#! function (x) {    
    tickvalues = [1, 2, 3, 4, 5, 6, 7];
    return tickvalues;
} !#")
n$xAxis(tickFormat = "#! function (x) {
    tickformat = ['1700-1820', '1820-1870', '1870-1913', '1913-1950', '1950-1970', '1970-1990', '1990-2012'];
    return tickformat[x-1];
} !#")
#n$xAxis(rotateLabels = -20)
n$chart(forceY = c(0, .02))
n$yAxis(showMaxMin = FALSE)
n$yAxis(axisLabel = 'Growth rate of per capita GDP')
n$yAxis(tickFormat = "#! function(d) {return Math.round(d*100*100)/100 + '%'} !#")
n$chart(color = colorPalette)
n$chart(useInteractiveGuideline = TRUE)
n$addParams(height = 500, width = 800)
n$setTemplate(afterScript = '<style>
  .nv-point {
    stroke-opacity: 1!important;
    stroke-width: 5px!important;
    fill-opacity: 1!important;
  } 
</style>')
n$save('figures/Figure_2_3.html', standalone = TRUE)
```
<iframe src = 'figures/Figure_2_3.html' alt = "Figure 2.3. Public wealth in Britain, 1700-2010.">
</iframe><icaption class = 'icaption'>Figure 2.3. The growth rate of per capita output surpassed 4 percent per year in Europe between 1950 and 1970, before returning to American levels.</icaption>
<footer class = 'footnote'>  
Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

---

### The growth rate of world per capita output

<figure>  
<img src = "../../figures/Figure_2_4.png" alt = "Figure 2.4. The growth rate of world per capita output from Antiquity to 2100.">  
<figcaption class = 'figcaption'>Figure 2.4. The growth rate of per capita output surpassed 2 percent from 1950 to 2012. If the convergence process goes on, it will surpass 2.5 percent from 2012 to 2050, and then will drop below 1.5 percent.</figcaption>  
</figure> 
<footer class = 'footnote'>
Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### The growth rate of world per capita output

```{r 'Figure_2_4_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_2_4.Rda") 
# round data for rChart tooltip display
df_2_4$value <- round(df_2_4$value, 3)
n <- nPlot(data = df_2_4, value ~ Seq, group = 'variable', color = 'variable', shape = 'variable', type = 'lineChart') 
n$chart(margin = list(left = 80, right = 20))
n$xAxis(axisLabel = NULL)
n$xAxis(showMaxMin = FALSE)  # MaxMin interefere with spacing
n$xAxis(tickValues = "#! function (x) {    
    tickvalues = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
    return tickvalues;
} !#")
n$xAxis(tickFormat = "#! function (x) {
    tickformat = ['0-1000', '1000-1500', '1500-1700', '1700-1820', '1820-1913', '1913-1950', '1950-1990', '1990-2012', '2012-2030', '2030-2050', '2050-2070', '2070-2100'];
    return tickformat[x-1];
} !#")
n$xAxis(rotateLabels = -20)
n$chart(forceY = c(0, .02))
n$yAxis(showMaxMin = FALSE)
n$yAxis(axisLabel = 'Growth rate of per capita GDP')
n$yAxis(tickFormat = "#! function(d) {return Math.round(d*100*100)/100 + '%'} !#")
n$chart(color = colorPalette)
n$chart(useInteractiveGuideline = TRUE)
n$addParams(height = 500, width = 800)
n$setTemplate(afterScript = '<style>
  .nv-point {
    stroke-opacity: 1!important;
    stroke-width: 5px!important;
    fill-opacity: 1!important;
  } 
</style>')
n$save('figures/Figure_2_4.html', standalone = TRUE)
```
<iframe src = 'figures/Figure_2_4.html' alt = "Figure 2.4. The growth rate of world per capita output from Antiquity to 2100.">
</iframe><icaption class = 'icaption'>Figure 2.4. The growth rate of per capita output surpassed 2 percent from 1950 to 2012. If the convergence process goes on, it will surpass 2.5 percent from 2012 to 2050, and then will drop below 1.5 percent.</icaption>
<footer class = 'footnote'>  
Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

---

### The growth rate of world output

<figure>  
<img src = "../../figures/Figure_2_5.png" alt = "Figure 2.5. The growth rate of world output from Antiquity to 2100.">  
<figcaption class = 'figcaption'>Figure 2.5. The growth rate of world output surpassed 4 percent from 1950 to 1990. If the convergence process goes on, it will drop below 2 percent by 2050.</figcaption>  
</figure> 
<footer class = 'footnote'>
Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### The growth rate of world output

```{r 'Figure_2_5_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_2_5.Rda") 
# round data for rChart tooltip display
df_2_5$value <- round(df_2_5$value, 3)
n <- nPlot(data = df_2_5, value ~ Seq, group = 'variable', color = 'variable', shape = 'variable', type = 'lineChart') 
n$chart(margin = list(left = 80, right = 40))
n$xAxis(axisLabel = NULL)
n$xAxis(showMaxMin = FALSE)  # MaxMin interefere with spacing
n$xAxis(tickValues = "#! function (x) {    
    tickvalues = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
    return tickvalues;
} !#")
n$xAxis(tickFormat = "#! function (x) {
    tickformat = ['0-1000', '1000-1500', '1500-1700', '1700-1820', '1820-1913', '1913-1950', '1950-1990', '1990-2012', '2012-2030', '2030-2050', '2050-2070', '2070-2100'];
    return tickformat[x-1];
} !#")
n$xAxis(rotateLabels = -20)
n$chart(forceY = c(0, .02))
n$yAxis(showMaxMin = FALSE)
n$yAxis(axisLabel = 'Growth rate of world GDP')
n$yAxis(tickFormat = "#! function(d) {return Math.round(d*100*100)/100 + '%'} !#")
n$chart(color = colorPalette)
n$chart(useInteractiveGuideline = TRUE)
n$addParams(height = 500, width = 800)
n$setTemplate(afterScript = '<style>
  .nv-point {
    stroke-opacity: 1!important;
    stroke-width: 5px!important;
    fill-opacity: 1!important;
  } 
</style>')
n$save('figures/Figure_2_5.html', standalone = TRUE)
```
<iframe src = 'figures/Figure_2_5.html' alt = "Figure 2.5. The growth rate of world output from Antiquity to 2100.">
</iframe><icaption class = 'icaption'>Figure 2.5. The growth rate of world output surpassed 4 percent from 1950 to 1990. If the convergence process goes on, it will drop below 2 percent by 2050.</icaption>
<footer class = 'footnote'>  
Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

---

### Inflation since the Industrial Revolution

<figure>  
<img src = "../../figures/Figure_2_6.png" alt = "Figure 2.6. Inflation since the Industrial Revolution.">  
<figcaption class = 'figcaption'>Figure 2.6. Inflation in the rich countries was zero in the eighteenth and nineteenth centuries, high in the twentieth century, and roughly 2 percent a year since 1990.</figcaption>  
</figure> 
<footer class = 'footnote'>
Concept and data: Thomas Piketty. Chart created with ``ggplot2`` (author: Hadley Wickham)
</footer>  

---

### Inflation since the Industrial Revolution

```{r 'Figure_2_6_rCharts',  message = FALSE, warning = FALSE, error = FALSE, echo = FALSE, tidy = FALSE, cache = FALSE}  
require(rCharts)
load("../../data/df_2_6.Rda") 
# round data for rChart tooltip display
df_2_6$value <- round(df_2_6$value, 3)
n <- nPlot(data = df_2_6, value ~ Seq, group = 'variable', color = 'variable', shape = 'variable', type = 'lineChart') 
n$chart(margin = list(left = 80, right = 40))
n$xAxis(axisLabel = NULL)
n$xAxis(showMaxMin = FALSE)  # MaxMin interefere with spacing
n$xAxis(tickValues = "#! function (x) {    
    tickvalues = [1, 2, 3, 4, 5, 6, 7];
    return tickvalues;
} !#")
n$xAxis(tickFormat = "#! function (x) {
    tickformat = ['1700-1820', '1820-1870', '1870-1913', '1913-1950', '1950-1970', '1970-1990', '1990-2012'];
    return tickformat[x-1];
} !#")
n$xAxis(rotateLabels = 0)
n$chart(forceY = c(0, .02))
n$yAxis(showMaxMin = FALSE)
n$yAxis(axisLabel = 'Inflation rate (consumer price index)')
n$yAxis(tickFormat = "#! function(d) {return Math.round(d*100*100)/100 + '%'} !#")
n$chart(color = colorPalette)
n$chart(useInteractiveGuideline = TRUE)
n$addParams(height = 500, width = 800)
n$setTemplate(afterScript = '<style>
  .nv-point {
    stroke-opacity: 1!important;
    stroke-width: 5px!important;
    fill-opacity: 1!important;
  } 
</style>')
n$save('figures/Figure_2_6.html', standalone = TRUE)
```
<iframe src = 'figures/Figure_2_6.html' alt = "Figure 2.6. Inflation since the Industrial Revolution.">
</iframe><icaption class = 'icaption'>Figure 2.6. Inflation in the rich countries was zero in the eighteenth and nineteenth centuries, high in the twentieth century, and roughly 2 percent a year since 1990.</icaption>
<footer class = 'footnote'>  
Concept and data: Thomas Piketty. Chart created with ``rCharts`` (author: Ramnath Vaidyanathan)  
</footer>  

